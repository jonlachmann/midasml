test_that("Model w intercept works.", {
  x <- matrix(1:250, 50)
  storage.mode(x) <- "double"
  y <- 1:50 + c(-1.5, 1.018, -0.853, -2.37, 1.117, 0.513, -1.622, -1.472, -0.762, 1.92, 1.294, 0.648, -0.646, 0.029, -0.347, 0.6, -0.444, 1.041, -0.756, 0.343, -1.235, -0.495, -0.534, -0.012, 1.722, 1.036, -0.204, 1.653, -1.954, -0.17, -0.828, 0.271, -0.09, 0.02, -0.984, 0.805, 1.829, 0.682, 0.134, 0.398, -0.489, -0.39, -0.692, 0.508, 2.075, 0.371, -0.18, -1.681, 0.796, -0.719)

  res <- reg.sgl(x, y, gindex = c(1, 1, 1, 2, 2), nlambda = 3)
  res$set.seed <- NULL

  expect_snapshot(res)
})

test_that("Model w/o intercept works.", {
  x <- matrix(1:250, 50)
  y <- 1:50 + c(-1.5, 1.018, -0.853, -2.37, 1.117, 0.513, -1.622, -1.472, -0.762, 1.92, 1.294, 0.648, -0.646, 0.029, -0.347, 0.6, -0.444, 1.041, -0.756, 0.343, -1.235, -0.495, -0.534, -0.012, 1.722, 1.036, -0.204, 1.653, -1.954, -0.17, -0.828, 0.271, -0.09, 0.02, -0.984, 0.805, 1.829, 0.682, 0.134, 0.398, -0.489, -0.39, -0.692, 0.508, 2.075, 0.371, -0.18, -1.681, 0.796, -0.719)

  system.time(res <- reg.sgl(x, y, gindex = c(1, 1, 1, 2, 2), nlambda = 3, intercept = F))
  res$set.seed <- NULL

  expect_snapshot(res)
})
